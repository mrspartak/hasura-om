(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{364:function(t,s,a){"use strict";a.r(s);var e=a(43),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"hasura"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hasura"}},[t._v("#")]),t._v(" Hasura")]),t._v(" "),a("p",[t._v("This is a main class. All queries/mutations/subscription you will run using it's instance.")]),t._v(" "),a("h2",{attrs:{id:"instance-methods"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#instance-methods"}},[t._v("#")]),t._v(" Instance Methods")]),t._v(" "),a("h3",{attrs:{id:"new-hasura-parameters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-hasura-parameters"}},[t._v("#")]),t._v(" "),a("code",[t._v("new Hasura( parameters )")])]),t._v(" "),a("p",[t._v("Currently ORM works only on backend and uses admin access to Hasura")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Arguments:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{object} parameters")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{string} graphqlUrl")]),t._v(" - Hasura's graphql endpoint")]),t._v(" "),a("li",[a("code",[t._v("{string} adminSecret")]),t._v(" - admin secret to access endpoint")]),t._v(" "),a("li",[a("code",[t._v("{string} [queryUrl]")]),t._v(" - Hasura's query API endpoint (autogenerated from graphqlUrl by default)")]),t._v(" "),a("li",[a("code",[t._v("{string} [wsUrl]")]),t._v(" - Hasura's Websocket endpoint (autogenerated from graphqlUrl by default)")]),t._v(" "),a("li",[a("code",[t._v("{object} [query]")]),t._v(" - Query method specific settings\n"),a("ul",[a("li",[a("code",[t._v("{boolean} [flatOne = true]")]),t._v(" - Response manipulation. Please read "),a("a",{attrs:{href:"#this-flatgqlresponse-flatsettings-settings-parameters"}},[t._v("flatOne")]),t._v(" method")])])]),t._v(" "),a("li",[a("code",[t._v("{object} [subscription]")]),t._v(" - Subscribe method specific settings\n"),a("ul",[a("li",[a("code",[t._v("{boolean} [flatOne = true]")]),t._v(" - Response manipulation. Please read "),a("a",{attrs:{href:"#this-flatgqlresponse-flatsettings-settings-parameters"}},[t._v("flatOne")]),t._v(" method")])])]),t._v(" "),a("li",[a("code",[t._v("{object} [mutation]")]),t._v(" - Mutate method specific settings\n"),a("ul",[a("li",[a("code",[t._v("{boolean} [flatOne = true]")]),t._v(" - Response manipulation. Please read "),a("a",{attrs:{href:"#this-flatgqlresponse-flatsettings-settings-parameters"}},[t._v("flatOne")]),t._v(" method")])])]),t._v(" "),a("li",[a("code",[t._v("{object} [gqlConnectionSettings]")]),t._v(" - Hasura's graphql API endpoint settings (currenlty blank)")]),t._v(" "),a("li",[a("code",[t._v("{object} [sqlConnectionSettings]")]),t._v(" - Hasura's query API endpoint settings (currenlty blank)")]),t._v(" "),a("li",[a("code",[t._v("{object} [wsConnectionSettings]")]),t._v(" - Hasura's Websocket API endpoint settings\n"),a("ul",[a("li",[a("code",[t._v("{boolean} [lazy = true]")]),t._v(" - WS lazy connection. If true - connection will be established only on first subscripe method call")]),t._v(" "),a("li",[a("code",[t._v("{boolean} [reconnect = true]")]),t._v(" - WS reconnect connection.")])])])])])])]),t._v(" "),a("li",[a("strong",[t._v("Example:")])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Hasura"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hasura-om'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" orm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Hasura")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    graphqlUrl"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    adminSecret"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"async-this-generatetablesfromapi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async-this-generatetablesfromapi"}},[t._v("#")]),t._v(" "),a("code",[t._v("async this.generateTablesFromAPI()")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Usage:")]),t._v("\nThis method gets information about tables from Hasura's query API and generates the whole schema")]),t._v(" "),a("li",[a("strong",[t._v("Example:")])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" orm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateTablesFromAPI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"this-createtable-parameters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#this-createtable-parameters"}},[t._v("#")]),t._v(" "),a("code",[t._v("this.createTable( parameters )")])]),t._v(" "),a("p",[t._v("This a "),a("a",{attrs:{href:"table"}},[a("code",[t._v("Table")])]),t._v(" constructor")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Arguments:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{object} parameters")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{string} name")])]),t._v(" "),a("li",[a("code",[t._v("{string} [type]")])])])])])]),t._v(" "),a("li",[a("strong",[t._v("Returns:")]),t._v(" "),a("a",{attrs:{href:"table"}},[a("code",[t._v("{Table}")])]),t._v(" Instance")]),t._v(" "),a("li",[a("strong",[t._v("Example:")])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("orm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createTable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"this-table-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#this-table-name"}},[t._v("#")]),t._v(" "),a("code",[t._v("this.table( name )")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Arguments:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{string} name")])])])]),t._v(" "),a("li",[a("strong",[t._v("Returns:")]),t._v(" "),a("a",{attrs:{href:"table"}},[a("code",[t._v("{Table}")])]),t._v(" Instance")]),t._v(" "),a("li",[a("strong",[t._v("Example:")])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("orm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("field")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isPrimary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"async-this-query-parameters-settings"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async-this-query-parameters-settings"}},[t._v("#")]),t._v(" "),a("code",[t._v("async this.query( parameters, settings )")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Arguments:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{object} parameters")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{object} tablename*")]),t._v(" - here you should put exact table "),a("code",[t._v("name")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{object} select")]),t._v(" - select query. You can skip this key and define its options if you query select only\n"),a("ul",[a("li",[a("code",[t._v("{object} [where]")]),t._v(" - where object "),a("code",[t._v("{ age :{ _gt: 18 } }")])]),t._v(" "),a("li",[a("code",[t._v("{integer} [limit]")]),t._v(" - limit")]),t._v(" "),a("li",[a("code",[t._v("{integer} [offset]")]),t._v(" - offset")]),t._v(" "),a("li",[a("code",[t._v("{object} [order_by]")]),t._v(" - order_by object "),a("code",[t._v("{ last_seen: 'desc' }")])]),t._v(" "),a("li",[a("code",[t._v("{string} [distinct_on]")]),t._v(" - distinct_on "),a("code",[t._v("type")])]),t._v(" "),a("li",[a("code",[t._v("{string | array | object} [fields]")]),t._v(" - you can define fields just like in "),a("a",{attrs:{href:"fragment"}},[a("code",[t._v("{Fragment}")])]),t._v(" Instance")]),t._v(" "),a("li",[a("code",[t._v("{string | Fragment} [fragment]")]),t._v(" - "),a("code",[t._v("name")]),t._v(" of Fragment or a "),a("code",[t._v("Fragment")]),t._v(" instance")])])]),t._v(" "),a("li",[a("code",[t._v("{object} aggregate")]),t._v(" - aggregate query\n"),a("ul",[a("li",[a("code",[t._v("{object} [where]")]),t._v(" - where object "),a("code",[t._v("{ age :{ _gt: 18 } }")])]),t._v(" "),a("li",[a("code",[t._v("{integer} [limit]")]),t._v(" - limit")]),t._v(" "),a("li",[a("code",[t._v("{integer} [offset]")]),t._v(" - offset")]),t._v(" "),a("li",[a("code",[t._v("{object} [order_by]")]),t._v(" - order_by object "),a("code",[t._v("{ last_seen: 'desc' }")])]),t._v(" "),a("li",[a("code",[t._v("{string} [distinct_on]")]),t._v(" - distinct_on "),a("code",[t._v("type")])]),t._v(" "),a("li",[a("code",[t._v("{string | array | object} [fields]")]),t._v(" - you can define aggregate by yourself just like in "),a("a",{attrs:{href:"fragment"}},[a("code",[t._v("{Fragment}")])]),t._v(" Instance")]),t._v(" "),a("li",[a("code",[t._v("{object} count")]),t._v(" - can leave empty if you need just count all the fields\n"),a("ul",[a("li",[a("code",[t._v("{string} columns")])]),t._v(" "),a("li",[a("code",[t._v("{boolean} distinct")])])])]),t._v(" "),a("li",[a("code",[t._v("{string} avg")])]),t._v(" "),a("li",[a("code",[t._v("{string} max")])]),t._v(" "),a("li",[a("code",[t._v("{string} min")])]),t._v(" "),a("li",[a("code",[t._v("{string} stddev")])]),t._v(" "),a("li",[a("code",[t._v("{string} stddev_pop")])]),t._v(" "),a("li",[a("code",[t._v("{string} stddev_samp")])]),t._v(" "),a("li",[a("code",[t._v("{string} sum")])]),t._v(" "),a("li",[a("code",[t._v("{string} var_pop")])]),t._v(" "),a("li",[a("code",[t._v("{string} var_samp")])]),t._v(" "),a("li",[a("code",[t._v("{string} variance")])])])])])])])]),t._v(" "),a("li",[a("code",[t._v("{object} [settings]")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{boolean} [flatOne]")]),t._v(" - Response manipulation. Please read "),a("a",{attrs:{href:"#this-flatgqlresponse-flatsettings-settings-parameters"}},[t._v("flatOne")]),t._v(" method")])])])])]),t._v(" "),a("li",[a("strong",[t._v("Returns:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{array}")]),t._v(" - reponse in format [err, response]\n"),a("ul",[a("li",[a("code",[t._v("{object} error")])]),t._v(" "),a("li",[a("code",[t._v("{object | array} response")])])])])])]),t._v(" "),a("li",[a("strong",[t._v("Example")])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" orm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n        where"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" isOnline"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" _eq"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        fields"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'userpic'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n    [\n        {id: 2, name: 'Peter', userpic: 'https://....'},\n        ...\n    ]\n*/")]),t._v("\n")])])]),a("h3",{attrs:{id:"async-this-mutate-parameters-settings"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async-this-mutate-parameters-settings"}},[t._v("#")]),t._v(" "),a("code",[t._v("async this.mutate( parameters, settings )")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Arguments:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{object} parameters")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{object} tablename*")]),t._v(" - here you should put exact table "),a("code",[t._v("name")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{object} insert")]),t._v(" - Insert mutation\n"),a("ul",[a("li",[a("code",[t._v("{object | array} object")]),t._v(" - object or array of object defining inserting row. Of course you can inserted nested rows too")]),t._v(" "),a("li",[a("code",[t._v("{string | array | object} [fields]")]),t._v(" - you can define fields just like in "),a("a",{attrs:{href:"fragment"}},[a("code",[t._v("{Fragment}")])]),t._v(" Instance")]),t._v(" "),a("li",[a("code",[t._v("{string | Fragment} [fragment]")]),t._v(" - "),a("code",[t._v("name")]),t._v(" of Fragment or a "),a("code",[t._v("Fragment")]),t._v(" instance")])])]),t._v(" "),a("li",[a("code",[t._v("{object} update")]),t._v(" - Update mutation\n"),a("ul",[a("li",[a("code",[t._v("{object} where")]),t._v(" - where object "),a("code",[t._v("{ age :{ _gt: 18 } }")])]),t._v(" "),a("li",[a("code",[t._v("{object} _set")]),t._v(" - set object "),a("code",[t._v("{ age : 21 }")])]),t._v(" "),a("li",[a("code",[t._v("{object} _inc")]),t._v(" - increment object "),a("code",[t._v("{ age : 2 }")])]),t._v(" "),a("li",[a("code",[t._v("{string | array | object} [fields]")]),t._v(" - you can define fields just like in "),a("a",{attrs:{href:"fragment"}},[a("code",[t._v("{Fragment}")])]),t._v(" Instance")]),t._v(" "),a("li",[a("code",[t._v("{string | Fragment} [fragment]")]),t._v(" - "),a("code",[t._v("name")]),t._v(" of Fragment or a "),a("code",[t._v("Fragment")]),t._v(" instance")])])]),t._v(" "),a("li",[a("code",[t._v("{object} delete")]),t._v(" - Delete mutation\n"),a("ul",[a("li",[a("code",[t._v("{object} where")]),t._v(" - where object "),a("code",[t._v("{ age :{ _gt: 18 } }")])]),t._v(" "),a("li",[a("code",[t._v("{string | array | object} [fields]")]),t._v(" - you can define fields just like in "),a("a",{attrs:{href:"fragment"}},[a("code",[t._v("{Fragment}")])]),t._v(" Instance")]),t._v(" "),a("li",[a("code",[t._v("{string | Fragment} [fragment]")]),t._v(" - "),a("code",[t._v("name")]),t._v(" of Fragment or a "),a("code",[t._v("Fragment")]),t._v(" instance")])])])])])])]),t._v(" "),a("li",[a("code",[t._v("{object} [settings]")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{boolean} [flatOne]")]),t._v(" - Response manipulation. Please read "),a("a",{attrs:{href:"#this-flatgqlresponse-flatsettings-settings-parameters"}},[t._v("flatOne")]),t._v(" method")])])])])]),t._v(" "),a("li",[a("strong",[t._v("Returns:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{array}")]),t._v(" - reponse in format [err, response]\n"),a("ul",[a("li",[a("code",[t._v("{object} error")])]),t._v(" "),a("li",[a("code",[t._v("{object | array} response")])])])])])]),t._v(" "),a("li",[a("strong",[t._v("Example")])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" orm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mutate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        insert"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            objects"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Peter'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                userpic"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                points"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        update"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            where"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" _eq"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            _inc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" points"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            fields"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'points'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n    {\n        insert: [\n            {id: 3, name: 'Peter', points: 300, ...allUserFields},\n        ],\n        update: [\n            {id: 3, name: 'Peter', points: 350},\n        ]\n    }\n*/")]),t._v("\n")])])]),a("h3",{attrs:{id:"async-this-subscribe-parameters-callback-settings"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async-this-subscribe-parameters-callback-settings"}},[t._v("#")]),t._v(" "),a("code",[t._v("async this.subscribe( parameters, callback, settings )")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Arguments:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{object} parameters")]),t._v(" - just like in a "),a("a",{attrs:{href:"#async-this-query-parameters-settings"}},[t._v("query method")])]),t._v(" "),a("li",[a("code",[t._v("{function} callback([err, response])")]),t._v(" - function to be called on changes")]),t._v(" "),a("li",[a("code",[t._v("{object} [settings]")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{boolean} [flatOne]")]),t._v(" - Response manipulation. Please read "),a("a",{attrs:{href:"#this-flatgqlresponse-flatsettings-settings-parameters"}},[t._v("flatOne")]),t._v(" method")])])])])]),t._v(" "),a("li",[a("strong",[t._v("Returns:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{function} unsubscribe")]),t._v(" - call this function if you want to stop subscription")])])]),t._v(" "),a("li",[a("strong",[t._v("Example")])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" unsubscribe "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" orm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" where"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" isOnline"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" _eq"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"this-flatgqlresponse-flatsettings-settings-parameters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#this-flatgqlresponse-flatsettings-settings-parameters"}},[t._v("#")]),t._v(" "),a("code",[t._v("this.flatGqlResponse( { flatSettings, settings, parameters } )")])]),t._v(" "),a("p",[t._v("This method can migrate to a different place, cause it is utitilitary")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Arguments:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{object} parameters")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{array} [flatSettings]")]),t._v(" - an array of objects key: value - path_from: path_to "),a("code",[t._v("[ { 'user.returning': 'user.select' } ]")])]),t._v(" "),a("li",[a("code",[t._v("{array} settings")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{booleant} [flatOne = true]")]),t._v(" - see an explanation below")]),t._v(" "),a("li",[a("code",[t._v("{booleant} [getFirst = false]")]),t._v(" - see an explanation below")])])]),t._v(" "),a("li",[a("code",[t._v("{array} parameters")]),t._v(" - input parameters")])])])])]),t._v(" "),a("li",[a("strong",[t._v("Returns:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{function}")]),t._v(" - function that will change response output\n"),a("ul",[a("li",[a("strong",[t._v("Arguments:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{object | array} response")]),t._v(" graphql response")])])]),t._v(" "),a("li",[a("strong",[t._v("Returns:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("{object | array} response")]),t._v(" response after manipulation")])])])])])])]),t._v(" "),a("li",[a("strong",[t._v("Example")])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" gqlResponse "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"teams"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"team_name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("flatGqlResponse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    flatSettings"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'teams.select'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'teams'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        flatOne"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        getFirst"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n1. data key is a default path, so no need to change it somehow, so base response is:\nlet gqlResponse = {\n  teams: [\n    {\n      id: 7,\n      team_name: \"test\"\n    }\n  ]\n}\n\n2. flatSettings - {'teams.select': 'teams'} will change path 'teams' to 'teams.select'\nThis is needed to make every request looks the same tableName.select, tableName.aggregate, tableName.insert etc...\nlet gqlResponse = {\n  teams: {\n    select: [\n      {\n        id: 7,\n        team_name: \"test\"\n      }\n    ]\n  }\n}\n\n3. flatOne is a tricky one. It also changes a path, deleting sinle object keys. \nIn our example teams and select are both singe keys, so it will transform path 'teams.select' to ''\nlet gqlResponse = [\n  {\n    id: 7,\n    team_name: \"test\"\n  }\n]\n\n4. getFirst just return first entry of an array. Very useful if you want to get one user for example and you will get just user object\nlet gqlResponse = {\n  id: 7,\n  team_name: \"test\"\n}\n*/")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("This methods used to generate query/mutation from parameters\nThis section could be useful if you want to generate queries by yourself, but I think they need to be refactored, so I'll skip documentation for now")])]),t._v(" "),a("h3",{attrs:{id:"this-buildquery-parameters-querytype"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#this-buildquery-parameters-querytype"}},[t._v("#")]),t._v(" "),a("code",[t._v("this.buildQuery( parameters, queryType )")])]),t._v(" "),a("h3",{attrs:{id:"this-buildmutation-parameters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#this-buildmutation-parameters"}},[t._v("#")]),t._v(" "),a("code",[t._v("this.buildMutation( parameters )")])]),t._v(" "),a("h2",{attrs:{id:"usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Hasura"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hasura-om'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" orm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Hasura")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    graphqlUrl"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    adminSecret"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'secret'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" orm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateTablesFromAPI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" orm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" where"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" _eq"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n    {\n        id: 3,\n        ...userFields\n    }\n*/")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" orm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n        where"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" _eq"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        fields"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n    {\n        id: 3,\n        name: 'Peter'\n    }\n*/")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);